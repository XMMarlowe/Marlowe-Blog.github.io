---
title: 浅谈对线程安全的理解
author: Marlowe
tags: 线程
categories: 并发
abbrlink: 46568
date: 2021-03-10 14:46:58
---
当多个线程访问一个对象时，如果不进行额外的同步控制或其他的协调操作，调用这个对象的行为都可以获得正确的结果，我们就说这个对象是线程安全的。
<!--more-->
**简单来说，多线程情况下和单线程执行结果一样，就是线程安全的。**

**堆**是进程和线程共有的空间，分全局堆和局部堆。全局堆就是所有没有分配的空间，局部堆就是用户分配的空间。堆在操作系统对进程初始化的时候分配，运行过程中也可以向系统要额外的堆,但是用完了要还给操作系统，要不然就是内存泄漏。

> 在Java中，堆是Java虚拟机所管理的内存中最大的一块,是所有线程共享的一块内存区域，在虚拟机启动时创建。堆所存在的内存区域的唯一目的就是存放对象实例， 几乎所有的对象实例以及数组都在这里分配内存。

**栈**是每个线程独有的，保存其**运行状态**和**局部自动变量**的。栈在线程开始的时候初始化，每个线程的栈互相独立,因此，**栈是线程安全的。** 操作系统在切换线程的时候会自动切换栈。**栈空间不需要在高级语言里面显式的分配和释放**。